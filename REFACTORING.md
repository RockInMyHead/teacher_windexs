# üöÄ –ü–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–µ–∫—Ç–∞ Teacher

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–æ–±–ª–µ–º—ã:
1. **–ì–∏–≥–∞–Ω—Ç—Å–∫–∏–µ —Ñ–∞–π–ª—ã**:
   - `Chat.tsx` - 1984 —Å—Ç—Ä–æ–∫–∏ (—Å–º–µ—à–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ UI, API, —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
   - `coursePlans.ts` - 20895 —Å—Ç—Ä–æ–∫ (–æ–≥—Ä–æ–º–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
   
2. **–°–º–µ—à–∞–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å**:
   - API calls, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, UI –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
   - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
   - –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏**:
   - –ù–µ—Ç —á–µ—Ç–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
   - –°–ª–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥
   - –¢—Ä—É–¥–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üéØ –¶–µ–ª–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Feature-Sliced Design

```
src/
‚îú‚îÄ‚îÄ features/          # –ë–∏–∑–Ω–µ—Å-—Ñ–∏—á–∏ (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏)
‚îÇ   ‚îú‚îÄ‚îÄ auth/         # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ chat/         # –¢–µ–∫—Å—Ç–æ–≤—ã–π —á–∞—Ç ‚úÖ –ì–û–¢–û–í–û
‚îÇ   ‚îú‚îÄ‚îÄ voice/        # –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ courses/      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ assessment/   # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ shared/           # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ ui/          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ lib/         # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ api/         # –ë–∞–∑–æ–≤—ã–µ API —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ types/           # –¢–∏–ø—ã TypeScript
‚îÇ   ‚îú‚îÄ‚îÄ domain/      # –ë–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏ ‚úÖ –ì–û–¢–û–í–û
‚îÇ   ‚îú‚îÄ‚îÄ api/         # API —Ç–∏–ø—ã ‚úÖ –ì–û–¢–û–í–û
‚îÇ   ‚îî‚îÄ‚îÄ ui/          # UI —Ç–∏–ø—ã ‚úÖ –ì–û–¢–û–í–û
‚îî‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## ‚úÖ –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–ó–∞–≤–µ—Ä—à–µ–Ω)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ backup —Ñ–∞–π–ª—ã (4 —Ñ–∞–π–ª–∞)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (npm audit fix)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Feature-Sliced Architecture
- ‚úÖ –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã —Ç–∏–ø—ã (domain, api, ui)
- ‚úÖ –°–æ–∑–¥–∞–Ω branch `refactor/main`
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

**–ö–æ–º–º–∏—Ç:** `Phase 1: Project cleanup and Feature-Sliced Architecture setup`

## ‚úÖ –≠—Ç–∞–ø 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Chat Feature (–ó–∞–≤–µ—Ä—à–µ–Ω)

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∞ –≤—Å—è –ª–æ–≥–∏–∫–∞ API –≤ `features/chat/api/`
  - `chatApi.ts` - LLM completions, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ä–æ–∫–æ–≤
  - `lessonApi.ts` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É—Ä–æ–∫–∞–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ `features/chat/model/`
  - `chatModel.ts` - —Ö—É–∫–∏ `useChatModel`, `useLessonModel`
  - `audioModel.ts` - —Ö—É–∫ `useAudioModel`, TTS —É—Ç–∏–ª–∏—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `features/chat/ui/`
  - `MessageList.tsx` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
  - `MessageInput.tsx` - –ø–æ–ª–µ –≤–≤–æ–¥–∞
  - `ChatHeader.tsx` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
  - `LessonProgress.tsx` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
  - `LoadingIndicator.tsx` - —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `features/chat/README.md`
- ‚úÖ Public API –≤ `features/chat/index.ts`

**–ö–æ–º–º–∏—Ç:** `Phase 2: Extract Chat feature to Feature-Sliced Architecture`

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- üì¶ 14 API –≤—ã–∑–æ–≤–æ–≤ –∏–∑–≤–ª–µ—á–µ–Ω—ã –≤ —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- üé£ 3 –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ö—É–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- üé® 5 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üìù –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ 0 linter –æ—à–∏–±–æ–∫

## üîÑ –≠—Ç–∞–ø 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Chat.tsx (–í –ø—Ä–æ—Ü–µ—Å—Å–µ)

**–¶–µ–ª—å:** –£–ø—Ä–æ—Å—Ç–∏—Ç—å `Chat.tsx` —Å 1984 –¥–æ ~300 —Å—Ç—Ä–æ–∫, –∏—Å–ø–æ–ª—å–∑—É—è –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏

**–ü–ª–∞–Ω:**
1. –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º—ã–µ API –≤—ã–∑–æ–≤—ã –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `features/chat/api`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—É–∫–∏ `useChatModel`, `useLessonModel`, `useAudioModel`
3. –ó–∞–º–µ–Ω–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π JSX –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `features/chat/ui`
4. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–π—Å—è –∫–æ–¥

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```typescript
// Chat.tsx –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–ø—Ä–∏–º–µ—Ä)
import { 
  useChatModel, 
  useLessonModel,
  sendChatCompletion,
  MessageList,
  MessageInput,
  ChatHeader
} from '@/features/chat';

function Chat() {
  const chat = useChatModel();
  const lesson = useLessonModel();

  const handleSend = async () => {
    const response = await sendChatCompletion(
      [...chat.messages, { role: 'user', content: chat.inputMessage }]
    );
    chat.addMessage({ id: Date.now().toString(), role: 'assistant', content: response, timestamp: new Date() });
  };

  return (
    <div className="flex flex-col h-screen">
      <ChatHeader title={lesson.currentLesson?.title} />
      <MessageList messages={chat.messages} />
      <MessageInput 
        value={chat.inputMessage}
        onChange={chat.setInputMessage}
        onSend={handleSend}
      />
    </div>
  );
}
```

## üìã –≠—Ç–∞–ø 4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Voice Feature

**–ü–ª–∞–Ω:**
- –°–æ–∑–¥–∞—Ç—å `features/voice/` –º–æ–¥—É–ª—å
- –ò–∑–≤–ª–µ—á—å `VoiceTeacherChat.tsx` –ª–æ–≥–∏–∫—É
- –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ API, Model, UI —Å–ª–æ–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI TTS –∏ Whisper

## üìã –≠—Ç–∞–ø 5: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ Courses Feature

**–ü–ª–∞–Ω:**
- –°–æ–∑–¥–∞—Ç—å `features/courses/` –º–æ–¥—É–ª—å
- –†–∞–∑–±–∏—Ç—å `coursePlans.ts` (20895 —Å—Ç—Ä–æ–∫) –Ω–∞ –º–æ–¥—É–ª–∏
- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `features/courses/data/`
- API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫—É—Ä—Å–∞–º–∏

## üìã –≠—Ç–∞–ø 6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ Code Splitting

**–ü–ª–∞–Ω:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥—É–ª–µ–π
- Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è bundle size
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

## üìã –≠—Ç–∞–ø 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü–ª–∞–Ω:**
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è —Ö—É–∫–æ–≤ –∏ —É—Ç–∏–ª–∏—Ç
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è API
- Component —Ç–µ—Å—Ç—ã –¥–ª—è UI
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:
- Chat.tsx: **1984 —Å—Ç—Ä–æ–∫–∏**
- coursePlans.ts: **20895 —Å—Ç—Ä–æ–∫**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: **~40%**
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å: **–ù–∏–∑–∫–∞—è**

### –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (—Ü–µ–ª—å):
- Chat.tsx: **~300 —Å—Ç—Ä–æ–∫** (‚Üì85%)
- –ú–æ–¥—É–ª–µ–π courses: **~50-100 —Å—Ç—Ä–æ–∫ –∫–∞–∂–¥—ã–π**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: **<5%**
- –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å: **–í—ã—Å–æ–∫–∞—è**
- Bundle size: **‚Üì30%**

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: Feature-Sliced Design
- **LLM**: GPT-5.1 (text), GPT-5.1 (voice)
- **TTS**: OpenAI TTS-1
- **STT**: Whisper-1
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: React + TypeScript
- **–°–±–æ—Ä–∫–∞**: Vite
- **UI**: Shadcn/ui + Tailwind CSS

## üìö –†–µ—Å—É—Ä—Å—ã

- [Feature-Sliced Design](https://feature-sliced.design/)
- [React Best Practices](https://react.dev/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)

---

**–°—Ç–∞—Ç—É—Å:** üü¢ Phase 2 –∑–∞–≤–µ—Ä—à—ë–Ω, Phase 3 –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-11-20




