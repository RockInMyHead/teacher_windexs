# üìù –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### vite.config.ts ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ production –¥–æ–º–µ–Ω–æ–≤ –≤ proxy –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
```typescript
target: process.env.NODE_ENV === 'production' 
  ? 'https://teacher.windexs.ru'
  : `http://localhost:${process.env.PROXY_PORT || 1038}`
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–∞ production –ø—Ä–æ–∫—Å–∏ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω, –Ω–∞ dev —á–µ—Ä–µ–∑ localhost

### proxy-server.cjs ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–∫—Å–∏ –Ω–∞ –¥–æ–º–µ–Ω `proxy.windexs.ru`
- –î–æ–±–∞–≤–ª–µ–Ω endpoint `/api/models` –¥–ª—è GET –∑–∞–ø—Ä–æ—Å–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω endpoint `/api/audio/speech` –¥–ª—è TTS
- –°–æ—Ö—Ä–∞–Ω–µ–Ω legacy endpoint `/api/openai/tts`

### deploy-production.sh ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è production build
```bash
NODE_ENV=production npm run build
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Build —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –¥–ª—è production

## üìÑ Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### src/pages/Chat.tsx ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- 5 –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –∫ `https://api.openai.com/v1/chat/completions`
- –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `${window.location.origin}/api/chat/completions`
- –£–¥–∞–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ `Authorization` (–ø—Ä–æ–∫—Å–∏ –∏—Ö –¥–æ–±–∞–≤–ª—è–µ—Ç)
- 1 –≤—ã–∑–æ–≤ –∫ `/v1/models` –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `/api/models`

### src/pages/Lesson.tsx ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- 3 –≤—ã–∑–æ–≤–∞ –∫ `https://api.openai.com/v1/chat/completions` ‚Üí `/api/chat/completions`
- 1 –≤—ã–∑–æ–≤ –∫ `https://api.openai.com/v1/images/generations` ‚Üí `/api/images/generations`
- –£–¥–∞–ª–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ `Authorization` –∏–∑ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### src/pages/CustomAssessment.tsx ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- 1 –≤—ã–∑–æ–≤ –∫ `https://api.openai.com/v1/chat/completions` ‚Üí `/api/chat/completions`
- –£–¥–∞–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization`

### src/pages/DuolingoAssessment.tsx ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- 1 –≤—ã–∑–æ–≤ –∫ `https://api.openai.com/v1/chat/completions` ‚Üí `/api/chat/completions`
- –£–¥–∞–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization`

### src/lib/openaiTTS.ts ‚úÖ
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –í—ã–∑–æ–≤ –∫ `https://api.openai.com/v1/audio/speech` ‚Üí `${window.location.origin}/api/audio/speech`
- –£–¥–∞–ª–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization`

## ‚ú® –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

### src/lib/apiClient.ts (–ù–æ–≤—ã–π)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è API –≤—ã–∑–æ–≤–æ–≤
**–§—É–Ω–∫—Ü–∏–∏:**
```typescript
- getApiUrl(path) - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç URL API
- apiCall(endpoint, options) - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤
- chatCompletions(body) - —á–∞—Ç completions
- imagesGenerations(body) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- audioSpeech(body) - text-to-speech
- listModels() - —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π
- health() - health check
```

### quick-deploy.sh (–ù–æ–≤—ã–π)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ production –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ .env —Ñ–∞–π–ª–∞
- npm install (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- Production build
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Nginx –∫–æ–Ω—Ñ–∏–≥
- –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–æ–≤
- –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è

## üìö –ù–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### PROXY_CONFIGURATION.md (–ù–æ–≤—ã–π)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- API endpoints
- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞
- Security
- –ü—Ä–∏–º–µ—Ä—ã

### DOMAIN_CONFIG.md (–ù–æ–≤—ã–π)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ
- vite.config.ts –¥–µ—Ç–∞–ª–∏
- nginx-teacher.conf
- API –≤—ã–∑–æ–≤—ã –≤ –∫–æ–¥–µ
- –ö–∞–∫ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- Troubleshooting

### DEPLOYMENT_CHECKLIST.md (–ù–æ–≤—ã–π)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
- –®–∞–≥–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –ö–æ–º–∞–Ω–¥—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### QUICK_START.md (–ù–æ–≤—ã–π)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 3 –º–∏–Ω—É—Ç—ã
- Development vs Production
- –ü–µ—Ä–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ API
- –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- Troubleshooting

### SUMMARY.md (–ù–æ–≤—ã–π)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –ü–æ–ª–Ω–æ–µ —Ä–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ
- –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—Ä–æ—Å–∞
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –¥–∏–∞–≥—Ä–∞–º–º–æ–π
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### FILES_CHANGED.md (–≠—Ç–æ—Ç —Ñ–∞–π–ª)
**–°–æ–¥–µ—Ä–∂–∏—Ç:**
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –°—Ç–∞—Ç—É—Å |
|-----------|-----------|--------|
| –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ | 3 | ‚úÖ |
| –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | 5 | ‚úÖ |
| –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã | 1 | ‚ú® |
| –ù–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã | 1 | ‚ú® |
| –ù–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | 6 | üìö |
| **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤** | **16** | ‚úÖ |

### –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞

| –§–∞–π–ª | –ò–∑–º–µ–Ω–µ–Ω–∏—è | –¢–∏–ø |
|------|-----------|-----|
| vite.config.ts | +10 | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
| proxy-server.cjs | +60 | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ endpoints |
| Chat.tsx | -5 API keys, +5 calls | –ó–∞–º–µ–Ω–∞ |
| Lesson.tsx | -4 API keys, +4 calls | –ó–∞–º–µ–Ω–∞ |
| CustomAssessment.tsx | -1 API key, +1 call | –ó–∞–º–µ–Ω–∞ |
| DuolingoAssessment.tsx | -1 API key, +1 call | –ó–∞–º–µ–Ω–∞ |
| openaiTTS.ts | -1 API key, +1 call | –ó–∞–º–µ–Ω–∞ |
| apiClient.ts | +60 | –ù–æ–≤—ã–π —Ñ–∞–π–ª |
| quick-deploy.sh | +200 | –ù–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | +2000 | 6 —Ñ–∞–π–ª–æ–≤ |

## üîÑ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  vite.config.ts ‚îÇ  ‚Üê Proxy –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   API –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (5)    ‚îÇ
    ‚îÇ  - Chat.tsx             ‚îÇ
    ‚îÇ  - Lesson.tsx           ‚îÇ
    ‚îÇ  - CustomAssessment.tsx ‚îÇ
    ‚îÇ  - DuolingoAssessment   ‚îÇ
    ‚îÇ  - openaiTTS.ts         ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  /api/ endpoints  ‚îÇ
    ‚îÇ  - chat           ‚îÇ
    ‚îÇ  - images         ‚îÇ
    ‚îÇ  - audio/speech   ‚îÇ
    ‚îÇ  - models         ‚îÇ
    ‚îÇ  - health         ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Nginx/Vite      ‚îÇ
    ‚îÇ  proxy routing   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–í—Å–µ —Ñ–∞–π–ª—ã:
- ‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ –ì–æ—Ç–æ–≤—ã –∫ production

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### Development (localhost)
```
Frontend: http://localhost:1037/
API Proxy: http://localhost:1037/api/ (—á–µ—Ä–µ–∑ vite proxy)
```

### Production (–¥–æ–º–µ–Ω)
```
Frontend: https://teacher.windexs.ru/
API Proxy: https://teacher.windexs.ru/api/ (—á–µ—Ä–µ–∑ Nginx)
```

**–ë–µ–∑ –ø–æ—Ä—Ç–æ–≤! Clean URLs! Production ready! üöÄ**

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –õ–æ–∫–∞–ª—å–Ω–æ
```bash
./start-servers.sh
# http://localhost:1037/
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
./quick-deploy.sh
# https://teacher.windexs.ru/
```

---

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é!** ‚úÖ

