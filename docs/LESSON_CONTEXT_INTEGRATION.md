# üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –≤–æ –≤—Ä–µ–º—è —É—Ä–æ–∫–æ–≤

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—á–µ–Ω–∏–∫–∞–º –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤–æ –≤—Ä–µ–º—è —É—Ä–æ–∫–æ–≤. AI –£—á–∏—Ç–µ–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç, —É—á–∏—Ç—ã–≤–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–∫–∞.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - AI —É—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —É—Ä–æ–∫ –∏ –±–ª–æ–∫
- ‚úÖ **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è** - –æ—Ç–≤–µ—Ç—ã —Å–≤—è–∑–∞–Ω—ã —Å –∏–∑—É—á–∞–µ–º–æ–π —Ç–µ–º–æ–π
- ‚úÖ **–í–µ–∂–ª–∏–≤–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫ —Ç–µ–º–µ
- ‚úÖ **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞** - –ø–æ–º–Ω–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —É—Ä–æ–∫–µ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### LessonContextManager

–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —É—Ä–æ–∫–æ–≤:

```typescript
import { LessonContextManager, LessonBlock } from '@/utils/lessonContextManager';

const manager = new LessonContextManager();

// –ó–∞–ø—É—Å–∫ —É—Ä–æ–∫–∞
manager.startLesson({
  lessonId: 'lesson-1',
  currentTopic: '–ú–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã',
  lessonProgress: '–ë–ª–æ–∫ 2 –∏–∑ 15'
});

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞
manager.updateCurrentBlock({
  id: 2,
  title: '–ü—Ä–∞–∫—Ç–∏–∫–∞: can/must',
  content: '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –≥–ª–∞–≥–æ–ª–∞–º–∏',
  type: 'practice'
}, 1, 15); // blockIndex, totalBlocks

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
const prompt = manager.getSystemPrompt();
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Chat.tsx

```typescript
// –í Chat.tsx –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏:

// –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ —É—Ä–æ–∫–∞
startLessonMode({
  lessonId: 'lesson-1',
  currentTopic: '–ê–Ω–≥–ª–∏–π—Å–∫–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞',
  lessonProgress: '–ù–∞—á–∞–ª–æ —É—Ä–æ–∫–∞'
});

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ —É—Ä–æ–∫–∞
updateLessonBlock({
  id: 1,
  title: '–í–≤–µ–¥–µ–Ω–∏–µ –≤ –º–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã',
  content: '–ú–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã –≤—ã—Ä–∞–∂–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å...',
  type: 'theory'
}, 0, 15);

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞
endLessonMode();
```

## üí¨ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –û–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º —á–∞—Ç–∞

```typescript
// –û–±—ã—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ sendMessage()
sendMessage(); // ‚Üí –æ–±—ã—á–Ω—ã–π —á–∞—Ç –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

### 2. –†–µ–∂–∏–º —É—Ä–æ–∫–∞

```typescript
// –í —Ä–µ–∂–∏–º–µ —É—Ä–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è sendLessonQuestion()
if (isLessonMode && lessonContextManager.getCurrentContext()) {
  sendLessonQuestion(); // ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
} else {
  sendMessage(); // ‚Üí –æ–±—ã—á–Ω—ã–π —á–∞—Ç
}
```

### 3. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è —É—Ä–æ–∫–æ–≤

```typescript
const prompt = `–í—ã - –æ–ø—ã—Ç–Ω—ã–π –ø–µ–¥–∞–≥–æ–≥, –≤–µ–¥—É—â–∏–π —É—Ä–æ–∫ –ø–æ —Ç–µ–º–µ "–ú–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã".

–ö–û–ù–¢–ï–ö–°–¢ –£–†–û–ö–ê:
- –¢–µ–∫—É—â–∏–π —É—Ä–æ–∫: lesson-1
- –ü—Ä–æ–≥—Ä–µ—Å—Å —É—Ä–æ–∫–∞: –ë–ª–æ–∫ 2 –∏–∑ 15: –ü—Ä–∞–∫—Ç–∏–∫–∞
- –¢–µ–∫—É—â–∏–π –±–ª–æ–∫: "–ü—Ä–∞–∫—Ç–∏–∫–∞: can/must"
- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –±–ª–æ–∫–∞: –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –≥–ª–∞–≥–æ–ª–∞–º–∏

–í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê:
1. –í–°–ï–ì–î–ê —É—á–∏—Ç—ã–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–∫–∞ –≤ –æ—Ç–≤–µ—Ç–∞—Ö
2. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –∫–∞—Å–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–µ–π —Ç–µ–º—ã - –æ–±—ä—è—Å–Ω—è–π—Ç–µ –≤ —Ä–∞–º–∫–∞—Ö —É—Ä–æ–∫–∞
3. –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –Ω–µ —Å–≤—è–∑–∞–Ω —Å —É—Ä–æ–∫–æ–º - –≤–µ–∂–ª–∏–≤–æ –≤–µ—Ä–Ω–∏—Ç–µ –∫ —Ç–µ–º–µ —É—Ä–æ–∫–∞
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞
5. –ü–æ–æ—â—Ä—è–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–µ —É—Ä–æ–∫–∞
...`;
```

## üé® UI –ò–Ω–¥–∏–∫–∞—Ü–∏—è

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞ —É—Ä–æ–∫–∞

```jsx
<CardTitle className="flex items-center gap-2">
  <Brain className="w-5 h-5 text-primary" />
  –ß–∞—Ç —Å AI –£—á–∏—Ç–µ–ª–µ–º
  {isLessonMode && lessonContextManager.getCurrentContext() && (
    <span className="ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full font-medium">
      üìö –£—Ä–æ–∫: {lessonContextManager.getCurrentContext()?.currentTopic}
    </span>
  )}
</CardTitle>
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

```jsx
<p className="text-sm text-muted-foreground">
  {isLessonMode && lessonContextManager.getCurrentContext() ? (
    <span className="text-blue-600 font-medium">
      üí¨ –í–æ –≤—Ä–µ–º—è —É—Ä–æ–∫–∞ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ–º–µ "{currentTopic}".
      –£—á–∏—Ç–µ–ª—å –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å, —É—á–∏—Ç—ã–≤–∞—è –∫–æ–Ω—Ç–µ–∫—Å—Ç —É—Ä–æ–∫–∞.
    </span>
  ) : (
    <span>üí¨ –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ª—é–±—ã–º —Ç–µ–º–∞–º. AI –£—á–∏—Ç–µ–ª—å –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è!</span>
  )}
</p>
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π placeholder

```jsx
<Input
  placeholder={
    isLessonMode && lessonContextManager.getCurrentContext()
      ? `–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ —Ç–µ–º–µ "${currentTopic}"...`
      : "–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –ø–æ –ª—é–±–æ–π —É—á–µ–±–Ω–æ–π —Ç–µ–º–µ..."
  }
/>
```

## üìã –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ù–∞—á–∞–ª–æ —É—Ä–æ–∫–∞

```typescript
// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —É—Ä–æ–∫–∞
const startLesson = () => {
  // –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ —É—Ä–æ–∫–∞
  startLessonMode({
    lessonId: 'english-grammar-1',
    currentTopic: '–ú–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã',
    lessonProgress: '–ù–∞—á–∞–ª–æ —É—Ä–æ–∫–∞'
  });

  // –ü–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —É—Ä–æ–∫–∞
  const welcomeMessage: Message = {
    id: Date.now().toString(),
    role: 'assistant',
    content: '–ü—Ä–∏–≤–µ—Ç! –°–µ–≥–æ–¥–Ω—è –º—ã –∏–∑—É—á–∞–µ–º –º–æ–¥–∞–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è.',
    timestamp: new Date(),
  };
  setMessages([welcomeMessage]);
};
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–ª–æ–∫—É

```typescript
const moveToNextBlock = (blockData: LessonBlock, blockIndex: number, totalBlocks: number) => {
  // –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —É—Ä–æ–∫–∞
  updateLessonBlock(blockData, blockIndex, totalBlocks);

  // –ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤—ã–π –±–ª–æ–∫
  const blockMessage: Message = {
    id: Date.now().toString(),
    role: 'assistant',
    content: `–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –±–ª–æ–∫—É ${blockIndex + 1}: ${blockData.title}\n\n${blockData.content}`,
    timestamp: new Date(),
  };
  setMessages(prev => [...prev, blockMessage]);
};
```

### –ü—Ä–∏–º–µ—Ä 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ —É—á–µ–Ω–∏–∫–∞

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ handleKeyPress
const handleKeyPress = (e: React.KeyboardEvent) => {
  if (e.key === 'Enter' && !e.shiftKey) {
    e.preventDefault();
    if (isLessonMode && lessonContextManager.getCurrentContext()) {
      sendLessonQuestion(); // ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
    } else {
      sendMessage(); // ‚Üí –æ–±—ã—á–Ω—ã–π —á–∞—Ç
    }
  }
};
```

## üîß API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Ä–æ–∫–æ–º

```typescript
// –ó–∞–ø—É—Å–∫ —Ä–µ–∂–∏–º–∞ —É—Ä–æ–∫–∞
startLessonMode(data: {
  lessonId: string;
  currentTopic: string;
  lessonProgress?: string;
}): void

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞
updateLessonBlock(
  block: LessonBlock,
  blockIndex?: number,
  totalBlocks?: number
): void

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —É—Ä–æ–∫–∞
endLessonMode(): void

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ —É—Ä–æ–∫–∞
isLessonMode: boolean

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
lessonContextManager.getCurrentContext(): LessonContext | null
```

### –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

```typescript
interface LessonBlock {
  id: number;
  title: string;
  content: string;
  type: string;
}

interface LessonContext {
  lessonId: string;
  currentTopic: string;
  lessonProgress: string;
  currentBlock?: LessonBlock;
  totalBlocks?: number;
  currentBlockIndex?: number;
}
```

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—á–µ–Ω–∏–∫ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ —Ç–µ–º–µ

**–£—á–µ–Ω–∏–∫:** "–ß—Ç–æ –∑–Ω–∞—á–∏—Ç must?"

**AI (–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É—Ä–æ–∫–∞):** "–û—Ç–ª–∏—á–Ω–æ! –í —Ä–∞–º–∫–∞—Ö –Ω–∞—à–µ–≥–æ —É—Ä–æ–∫–∞ –ø–æ –º–æ–¥–∞–ª—å–Ω—ã–º –≥–ª–∞–≥–æ–ª–∞–º, must –≤—ã—Ä–∞–∂–∞–µ—Ç –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –∏–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, 'You must do your homework' (–¢—ã –¥–æ–ª–∂–µ–Ω —Å–¥–µ–ª–∞—Ç—å –¥–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ)."

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£—á–µ–Ω–∏–∫ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–µ –ø–æ —Ç–µ–º–µ

**–£—á–µ–Ω–∏–∫:** "–°–∫–æ–ª—å–∫–æ –∑–≤–µ–∑–¥ –Ω–∞ –Ω–µ–±–µ?"

**AI (–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É—Ä–æ–∫–∞):** "–≠—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –Ω–æ –¥–∞–≤–∞–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è –Ω–∞ —Ç–µ–º–µ –Ω–∞—à–µ–≥–æ —É—Ä–æ–∫–∞ - –º–æ–¥–∞–ª—å–Ω—ã—Ö –≥–ª–∞–≥–æ–ª–∞—Ö. –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ä–∞–∑–±–µ—Ä–µ–º —ç—Ç—É —Ç–µ–º—É, —Å–º–æ–∂–µ–º –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ –¥—Ä—É–≥–∏—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö."

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –£—á–µ–Ω–∏–∫ –ø—Ä–æ—Å–∏—Ç –æ–±—ä—è—Å–Ω–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ

**–£—á–µ–Ω–∏–∫:** "–†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ can"

**AI (–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —É—Ä–æ–∫–∞):** "–ö–æ–Ω–µ—á–Ω–æ! –í –Ω–∞—à–µ–º —É—Ä–æ–∫–µ –º—ã —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª–∏ –æ –º–æ–¥–∞–ª—å–Ω–æ–º –≥–ª–∞–≥–æ–ª–µ can. –û–Ω –≤—ã—Ä–∞–∂–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–ª–∏ —É–º–µ–Ω–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä: 'I can swim' (–Ø —É–º–µ—é –ø–ª–∞–≤–∞—Ç—å) –∏–ª–∏ 'You can go now' (–¢—ã –º–æ–∂–µ—à—å –∏–¥—Ç–∏ —Å–µ–π—á–∞—Å)."

## üîç –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

```typescript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
console.log('Current context:', lessonContextManager.getCurrentContext());

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç
console.log('System prompt:', lessonContextManager.getSystemPrompt());

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –≤–æ–ø—Ä–æ—Å–∞
const isRelevant = lessonContextManager.isQuestionRelevant('–ß—Ç–æ –∑–Ω–∞—á–∏—Ç must?');
console.log('Question relevant:', isRelevant);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞

```typescript
console.log('Lesson mode active:', isLessonMode);
console.log('Has context:', !!lessonContextManager.getCurrentContext());
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É —É—Ä–æ–∫–æ–≤** - –¥–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã `startLessonMode()` –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —É—Ä–æ–∫–∞
2. **–û–±–Ω–æ–≤–ª—è—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç** - –≤—ã–∑—ã–≤–∞—Ç—å `updateLessonBlock()` –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö
4. **–£–ª—É—á—à–∏—Ç—å** - –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –Ω—é–∞–Ω—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[REMEDIALS_SYSTEM.md](../REMEDIALS_SYSTEM.md)** - —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–º–µ–¥–∏–∞–ª–æ–≤
- **[ADAPTIVE_ASSESSMENT.md](../ADAPTIVE_ASSESSMENT.md)** - –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **[lessonContextManager.ts](../../src/utils/lessonContextManager.ts)** - –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

